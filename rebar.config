{erl_opts, [debug_info]}.
{deps, [
	{gtp_u_edp, ".*", {git, "git://github.com/travelping/gtp_u_edp", "master"}}
]}.

{relx, [{release, { 'ergw-gtp-u-edp', "1.0.0" },
         [gtp_u_edp, sasl]},

        {sys_config, "./config/sys.config"},
        {vm_args, "./config/vm.args"},

        {dev_mode, true},
        {include_erts, false},

        {extended_start_script, true}]
}.

{profiles, [{prod, [{relx, [{dev_mode, false},
                            {include_erts, true},
                            {include_src, false}]}
		   ]},
	    {native, [{overrides, [{override, gen_socket, [{erl_opts,[{native, false}]}]},
				   {override, gen_netlink, [{erl_opts,[native, {hipe, o3},
								       {parse_transform, lager_transform},
								       {lager_extra_sinks, [netlink]}]}]},
				   {override, regine, [{erl_opts,[native, {hipe, o3},
								  {parse_transform, lager_transform}]}]},
				   {override, gtplib, [{erl_opts,[native, {hipe, o3},
								  {parse_transform, lager_transform}]}]},
				   {override, [{erl_opts, [native, {hipe, o3}]}]}]}]
	    }]
}.
